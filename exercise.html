<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parkinson's Quiz | Park Vision</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
        /* Global Styles */
        :root {
            --primary-color: #3d5a80;
            --secondary-color: #ff9800;
            --accent-color: #ee6c4d;
            --dark-color: #293241;
            --light-color: #e0fbfc;
            --success-color: #4caf50;
            --warning-color: #ffc107;
            --danger-color: #f44336;
            --transition: all 0.3s ease;
            --box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            --text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb, #3d5a80);
            background-size: 400% 400%;
            animation: gradientAnimation 12s ease infinite;
            min-height: 100vh;
            color: #333;
            line-height: 1.6;
            overflow-x: hidden;
            transition: var(--transition);
        }

        @keyframes gradientAnimation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        body.dark-mode {
            background: linear-gradient(135deg, #121212, #1e1e1e, #000);
            color: #f5f5f5;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            position: relative;
        }

        /* Header */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            box-shadow: var(--box-shadow);
            transition: var(--transition);
        }

        body.dark-mode header {
            background: rgba(30, 30, 30, 0.9);
            color: #fff;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 900;
            color: var(--primary-color);
            text-decoration: none;
            display: flex;
            align-items: center;
        }

        body.dark-mode .logo {
            color: var(--secondary-color);
        }

        .logo i {
            margin-right: 0.5rem;
            color: var(--secondary-color);
        }

        /* Dark Mode Toggle */
        .toggle-container {
            display: flex;
            align-items: center;
            margin-left: 2rem;
        }

        .toggle-mode {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
            margin-left: 1rem;
        }

        .toggle-mode input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: var(--transition);
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: '';
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: var(--transition);
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--secondary-color);
        }

        input:checked + .slider:before {
            transform: translateX(30px);
        }

        /* Quiz Container */
        .quiz-container {
            background-color: rgba(255, 255, 255, 0.9);
            padding: 2rem;
            border-radius: 15px;
            max-width: 800px;
            width: 90%;
            margin: 100px auto 50px;
            box-shadow: var(--box-shadow);
            animation: fadeIn 0.8s ease-out;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        body.dark-mode .quiz-container {
            background-color: rgba(30, 30, 30, 0.9);
        }

        .quiz-container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            animation: pulse 8s infinite linear;
            z-index: -1;
        }

        @keyframes pulse {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .quiz-container h1 {
            color: var(--dark-color);
            font-size: 2.5rem;
            margin-bottom: 1rem;
            text-align: center;
            animation: fadeInDown 0.8s ease-out;
            position: relative;
        }

        body.dark-mode .quiz-container h1 {
            color: #fff;
        }

        .quiz-container h1::after {
            content: '';
            display: block;
            width: 80px;
            height: 4px;
            background: var(--secondary-color);
            margin: 10px auto;
            border-radius: 2px;
            animation: scaleIn 0.8s ease-out;
        }

        .quiz-container p {
            color: #666;
            font-size: 1.1rem;
            margin-bottom: 2rem;
            text-align: center;
            animation: fadeIn 1s ease-out;
        }

        body.dark-mode .quiz-container p {
            color: #ccc;
        }

        .quiz-container button {
            padding: 12px 24px;
            background-color: var(--secondary-color);
            border: none;
            color: white;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            transition: var(--transition);
            margin: 20px auto 0;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3);
            position: relative;
            overflow: hidden;
            display: block;
        }

        .quiz-container button:hover {
            background-color: var(--accent-color);
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(238, 108, 77, 0.4);
        }

        .quiz-container button:active {
            transform: translateY(1px);
        }

        .quiz-container button:disabled {
            background-color: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .quiz-container button::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%);
            transform-origin: 50% 50%;
        }

        .quiz-container button:focus:not(:active)::after {
            animation: ripple 1s ease-out;
        }

        @keyframes ripple {
            0% {
                transform: scale(0, 0);
                opacity: 1;
            }
            100% {
                transform: scale(20, 20);
                opacity: 0;
            }
        }

        /* Questions Container */
        .questions-container {
            display: none;
            text-align: left;
            max-height: 60vh;
            overflow-y: auto;
            padding-right: 10px;
        }

        .questions-container.active {
            display: block;
            animation: fadeInUp 0.8s ease-out;
        }

        .question-item {
            margin-bottom: 25px;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            animation: fadeInUp 0.5s ease;
            transition: var(--transition);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
            border-left: 4px solid var(--secondary-color);
            position: relative;
            overflow: hidden;
        }

        body.dark-mode .question-item {
            background-color: #2d2d2d;
        }

        .question-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            border-left-color: var(--accent-color);
        }

        .question-item h3 {
            color: var(--dark-color);
            font-size: 1.2rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            font-weight: 600;
        }

        body.dark-mode .question-item h3 {
            color: #fff;
        }

        .question-number {
            display: inline-block;
            width: 30px;
            height: 30px;
            background-color: var(--secondary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-size: 0.9rem;
            font-weight: bold;
            box-shadow: 0 2px 5px rgba(255, 152, 0, 0.3);
            transition: var(--transition);
        }

        .question-item:hover .question-number {
            background-color: var(--accent-color);
            transform: scale(1.1);
        }

        .question-item .options {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .question-item .options label {
            background-color: var(--light-color);
            padding: 12px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            color: var(--dark-color);
            font-size: 1rem;
            display: flex;
            align-items: center;
            position: relative;
            font-weight: 500;
        }

        body.dark-mode .question-item .options label {
            background-color: #3d3d3d;
            color: #eee;
        }

        .question-item .options label:hover {
            background-color: #d6eaf8;
            transform: translateX(5px);
        }

        body.dark-mode .question-item .options label:hover {
            background-color: #4d4d4d;
        }

        .question-item .options input[type="radio"] {
            display: none;
        }

        .question-item .options input[type="radio"]:checked + label {
            background-color: var(--secondary-color);
            color: #fff;
            font-weight: 600;
            box-shadow: 0 0 0 2px white, 0 3px 10px rgba(255, 152, 0, 0.3);
        }

        /* Selected answer indicator */
        .question-item .options input[type="radio"]:checked + label::after {
            content: "✓";
            position: absolute;
            right: 15px;
            font-size: 1.2rem;
            color: white;
            animation: bounceIn 0.5s;
        }

        /* Answer summary */
        .selected-answer {
            display: inline-block;
            margin-left: 10px;
            font-size: 0.9rem;
            color: var(--accent-color);
            font-weight: normal;
            animation: fadeIn 0.5s;
        }

        /* Result Container */
        .result-container {
            display: none;
        }

        .result-container.active {
            display: block;
            animation: fadeIn 0.8s ease-out;
        }

        .result-container h2 {
            color: var(--accent-color);
            font-size: 2rem;
            margin-bottom: 20px;
            animation: fadeInUp 1s ease;
            position: relative;
            text-align: center;
        }

        .result-container h2::after {
            content: '';
            display: block;
            width: 60px;
            height: 3px;
            background: var(--secondary-color);
            margin: 10px auto;
            border-radius: 2px;
        }

        .result-container p {
            color: #666;
            font-size: 1.1rem;
            margin-bottom: 20px;
            text-align: center;
        }

        body.dark-mode .result-container p {
            color: #ccc;
        }

        .result-container .percentage {
            font-size: 4rem;
            font-weight: bold;
            color: var(--accent-color);
            animation: bounceIn 1s ease;
            margin: 20px 0;
            text-align: center;
            text-shadow: 0 3px 10px rgba(238, 108, 77, 0.3);
        }

        .result-container .status {
            font-size: 1.5rem;
            font-weight: bold;
            margin-top: 10px;
            color: var(--dark-color);
            padding: 15px;
            border-radius: 10px;
            background-color: white;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
            animation: fadeInUp 1s ease;
            text-align: center;
        }

        body.dark-mode .result-container .status {
            background-color: #2d2d2d;
            color: #fff;
        }

        .fact-container {
            margin-top: 30px;
            padding: 20px;
            background-color: white;
            border-radius: 10px;
            color: var(--dark-color);
            font-size: 1rem;
            animation: fadeInUp 1s ease;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
            border-left: 4px solid var(--warning-color);
            position: relative;
        }

        body.dark-mode .fact-container {
            background-color: #2d2d2d;
            color: #eee;
        }

        .fact-container p {
            margin: 0;
        }

        .fact-container::before {
            content: 'ℹ️';
            position: absolute;
            left: -15px;
            top: -15px;
            background: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            font-size: 0.8rem;
        }

        body.dark-mode .fact-container::before {
            background: #2d2d2d;
        }

        /* Progress Bar */
        .progress-container {
            width: 100%;
            background-color: var(--light-color);
            border-radius: 10px;
            margin-bottom: 20px;
            overflow: hidden;
            position: sticky;
            top: 0;
            z-index: 10;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        body.dark-mode .progress-container {
            background-color: #3d3d3d;
        }

        .progress-bar {
            height: 10px;
            background: linear-gradient(90deg, var(--secondary-color), var(--accent-color));
            width: 0%;
            transition: width 0.5s ease;
            position: relative;
            overflow: hidden;
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, 
                          rgba(255,255,255,0.1) 0%, 
                          rgba(255,255,255,0.3) 50%, 
                          rgba(255,255,255,0.1) 100%);
            animation: shimmer 2s infinite linear;
            background-size: 200% 100%;
        }

        .progress-text {
            text-align: right;
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        body.dark-mode .progress-text {
            color: #ccc;
        }

        .answered-count {
            font-weight: bold;
            color: var(--accent-color);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInDown {
            from { 
                opacity: 0; 
                transform: translateY(-20px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }

        @keyframes fadeInUp {
            from { 
                opacity: 0; 
                transform: translateY(20px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }

        @keyframes bounceIn {
            0% { 
                transform: scale(0.8); 
                opacity: 0; 
            }
            50% { 
                transform: scale(1.1); 
            }
            100% { 
                transform: scale(1); 
                opacity: 1; 
            }
        }

        @keyframes scaleIn {
            from { transform: scaleX(0); }
            to { transform: scaleX(1); }
        }

        @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--secondary-color);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent-color);
        }

        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: var(--secondary-color);
            color: #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            z-index: 999;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .back-to-top.active {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            background: var(--accent-color);
            transform: translateY(-5px);
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            .quiz-container h1 {
                font-size: 2.2rem;
            }
            
            .quiz-container p {
                font-size: 1rem;
            }
        }

        @media (max-width: 768px) {
            header {
                flex-direction: column;
                padding: 1rem;
            }
            
            .quiz-container {
                margin-top: 150px;
            }
            
            .quiz-container h1 {
                font-size: 2rem;
            }
            
            .question-item h3 {
                font-size: 1.1rem;
            }
            
            .result-container .percentage {
                font-size: 3rem;
            }
            
            .result-container .status {
                font-size: 1.2rem;
            }
        }

        @media (max-width: 576px) {
            .quiz-container {
                padding: 1.5rem;
                width: 95%;
            }
            
            .quiz-container h1 {
                font-size: 1.8rem;
            }
            
            .question-item {
                padding: 15px;
            }
            
            .question-item h3 {
                font-size: 1rem;
            }
            
            .question-item .options label {
                padding: 10px 12px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <a href="#" class="logo"><i class="fas fa-brain"></i> PARK VISION</a>
        <div class="toggle-container">
            <span>Dark Mode</span>
            <label class="toggle-mode">
                <input type="checkbox" id="darkModeToggle">
                <span class="slider"></span>
            </label>
        </div>
    </header>

    <!-- Quiz Container -->
    <div class="quiz-container">
        <div class="start-container">
            <h1 class="animate__animated animate__fadeInDown">Parkinson's Quiz</h1>
            <p class="animate__animated animate__fadeInUp">Answer the following questions to assess potential symptoms of Parkinson's disease.</p>
            <button id="start-btn" class="animate__animated animate__fadeIn">Start Quiz <i class="fas fa-arrow-right"></i></button>
        </div>
        <div class="questions-container">
            <div class="progress-container">
                <div class="progress-text">
                    <span>Progress: <span class="answered-count" id="answered-count">0</span>/<span id="total-questions">25</span></span>
                    <span id="progress-percent">0%</span>
                </div>
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            <div id="all-questions"></div>
            <button id="submit-btn" disabled>
                <i class="fas fa-paper-plane"></i> Submit Answers
            </button>
        </div>
        <div class="result-container">
            <h2>Your Quiz Results</h2>
            <div class="percentage" id="percentage"></div>
            <div class="status" id="status"></div>
            <div class="fact-container" id="fact-container"></div>
            <button id="restart-btn">
                <i class="fas fa-redo"></i> Take Quiz Again
            </button>
        </div>
    </div>

    <!-- Back to Top Button -->
    <div class="back-to-top">
        <i class="fas fa-arrow-up"></i>
    </div>

    <script>
        const questions = [
            { question: "Do you experience tremors or shaking in your hands, arms, legs, or jaw?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" },
            { question: "Do you have difficulty with balance or coordination?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" },
            { question: "Do you feel stiffness in your limbs or trunk?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" },
            { question: "Do you have trouble walking or taking steps?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" },
            { question: "Do you notice a decrease in facial expressions?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" },
            { question: "Do you experience a soft or low voice when speaking?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" },
            { question: "Do you have difficulty writing or notice your handwriting becoming smaller?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" },
            { question: "Do you feel fatigued or unusually tired throughout the day?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" },
            { question: "Do you have trouble sleeping or experience restless nights?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" },
            { question: "Do you experience constipation or digestive issues?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" },
            { question: "Do you have difficulty swallowing or chewing food?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" },
            { question: "Do you notice a loss of smell or taste?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" },
            { question: "Do you feel depressed or anxious frequently?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" },
            { question: "Do you experience memory problems or confusion?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" },
            { question: "Do you have trouble concentrating or focusing on tasks?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" },
            { question: "Do you experience dizziness or lightheadedness?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" },
            { question: "Do you notice a change in your posture, such as stooping or leaning forward?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" },
            { question: "Do you have difficulty initiating movement or feel 'frozen' in place?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" },
            { question: "Do you experience muscle cramps or spasms?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" },
            { question: "Do you notice a decrease in your ability to perform fine motor tasks, like buttoning a shirt?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" },
            { question: "Do you feel a sense of slowness in your movements (bradykinesia)?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" },
            { question: "Do you experience urinary problems or incontinence?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" },
            { question: "Do you have trouble with speech, such as slurring or mumbling?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" },
            { question: "Do you feel a sense of stiffness or rigidity in your muscles?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" },
            { question: "Do you experience a loss of automatic movements, like blinking or smiling?", options: ["Never", "Rarely", "Sometimes", "Often"], answer: "Often" }
        ];
        
        const facts = [
            "Parkinson's disease affects nearly 1 million people in the U.S. and 10 million worldwide.",
            "Men are 1.5 times more likely to develop Parkinson's than women.",
            "The average age of Parkinson's diagnosis is 60 years.",
            "Exercise has been shown to improve symptoms and slow disease progression.",
            "Parkinson's is caused by the loss of dopamine-producing cells in the brain.",
            "James Parkinson first described the disease in 1817.",
            "There is no cure for Parkinson's, but treatments can help manage symptoms.",
            "Parkinson's is the second most common neurodegenerative disorder after Alzheimer's.",
            "Deep brain stimulation is a surgical treatment option for advanced Parkinson's.",
            "Parkinson's can affect non-motor functions, such as mood and cognition."
        ];
        
        // DOM Elements
        const startContainer = document.querySelector('.start-container');
        const questionsContainer = document.querySelector('.questions-container');
        const resultContainer = document.querySelector('.result-container');
        const allQuestionsElement = document.getElementById('all-questions');
        const submitButton = document.getElementById('submit-btn');
        const percentageElement = document.getElementById('percentage');
        const statusElement = document.getElementById('status');
        const factContainer = document.getElementById('fact-container');
        const restartButton = document.getElementById('restart-btn');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-percent');
        const answeredCount = document.getElementById('answered-count');
        const totalQuestions = document.getElementById('total-questions');
        const darkModeToggle = document.getElementById('darkModeToggle');
        const body = document.body;
        const backToTopButton = document.querySelector('.back-to-top');
        
        // Initialize quiz
        totalQuestions.textContent = questions.length;
        
        // Event listeners
        document.getElementById('start-btn').addEventListener('click', startQuiz);
        submitButton.addEventListener('click', showResult);
        restartButton.addEventListener('click', restartQuiz);
        
        // Dark Mode Toggle
        if (localStorage.getItem('darkMode')) {
            body.classList.add('dark-mode');
            darkModeToggle.checked = true;
        }

        darkModeToggle.addEventListener('change', () => {
            body.classList.toggle('dark-mode');
            
            if (body.classList.contains('dark-mode')) {
                localStorage.setItem('darkMode', 'enabled');
            } else {
                localStorage.removeItem('darkMode');
            }
        });
        
        // Back to Top Button
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                backToTopButton.classList.add('active');
            } else {
                backToTopButton.classList.remove('active');
            }
        });

        backToTopButton.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        function startQuiz() {
            startContainer.style.display = 'none';
            questionsContainer.classList.add('active');
            renderAllQuestions();
        }
        
        function renderAllQuestions() {
            allQuestionsElement.innerHTML = '';
            
            questions.forEach((q, index) => {
                const questionItem = document.createElement('div');
                questionItem.className = 'question-item';
                questionItem.style.animationDelay = `${index * 0.1}s`;
                questionItem.innerHTML = `
                    <h3><span class="question-number">${index + 1}</span>${q.question}</h3>
                    <div class="options" id="options-${index}"></div>
                `;
                
                const optionsContainer = questionItem.querySelector(`#options-${index}`);
                
                q.options.forEach(option => {
                    const radioId = `question-${index}-${option.replace(/\s+/g, '-').toLowerCase()}`;
                    const label = document.createElement('label');
                    label.innerHTML = `
                        <input type="radio" name="question-${index}" value="${option}" id="${radioId}" data-question-index="${index}">
                        ${option}
                    `;
                    optionsContainer.appendChild(label);
                });
                
                allQuestionsElement.appendChild(questionItem);
            });
            
            // Add event listeners to all radio buttons
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    updateProgress();
                    showSelectedAnswer(this);
                });
            });
        }
        
        function showSelectedAnswer(radio) {
            const questionIndex = radio.dataset.questionIndex;
            const questionItem = document.querySelector(`#options-${questionIndex}`).parentElement;
            
            // Remove any existing selected answer display
            const existingSelected = questionItem.querySelector('.selected-answer');
            if (existingSelected) {
                existingSelected.remove();
            }
            
            // Add the selected answer next to the question
            const questionText = questionItem.querySelector('h3');
            const selectedSpan = document.createElement('span');
            selectedSpan.className = 'selected-answer';
            selectedSpan.textContent = `Selected: ${radio.value}`;
            questionText.appendChild(selectedSpan);
            
            // Add animation to the selected option
            const selectedLabel = radio.nextElementSibling;
            selectedLabel.style.animation = 'bounceIn 0.5s';
            setTimeout(() => {
                selectedLabel.style.animation = '';
            }, 500);
        }
        
        function updateProgress() {
            const answeredQuestions = document.querySelectorAll('input[type="radio"]:checked').length;
            const progressPercentage = Math.round((answeredQuestions / questions.length) * 100);
            
            progressBar.style.width = `${progressPercentage}%`;
            progressText.textContent = `${progressPercentage}%`;
            answeredCount.textContent = answeredQuestions;
            
            // Enable submit button when all questions are answered
            submitButton.disabled = answeredQuestions < questions.length;
            
            // Change button text when all questions are answered
            if (answeredQuestions === questions.length) {
                submitButton.innerHTML = '<i class="fas fa-check-circle"></i> View Results';
                submitButton.style.animation = 'pulse 1.5s infinite';
            } else {
                submitButton.innerHTML = '<i class="fas fa-paper-plane"></i> Submit Answers';
                submitButton.style.animation = '';
            }
        }
        
        function showResult() {
            let score = 0;
            let userAnswers = [];
            
            questions.forEach((q, index) => {
                const selectedOption = document.querySelector(`input[name="question-${index}"]:checked`);
                if (selectedOption) {
                    userAnswers.push({
                        question: q.question,
                        answer: selectedOption.value,
                        isCorrect: selectedOption.value === q.answer
                    });
                    
                    if (selectedOption.value === q.answer) {
                        score++;
                    }
                }
            });
            
            const percentage = ((score / questions.length) * 100).toFixed(2);
            percentageElement.textContent = `${percentage}%`;
            
            let status = '';
            if (percentage < 30) {
                status = "You are likely healthy. No significant symptoms detected.";
            } else if (percentage >= 30 && percentage < 70) {
                status = "You may have mild symptoms. Consider consulting a doctor.";
            } else {
                status = "You may have significant symptoms of Parkinson's. Please consult a doctor.";
            }
            
            statusElement.textContent = status;
            const randomFact = facts[Math.floor(Math.random() * facts.length)];
            factContainer.innerHTML = `<p><strong>Did you know?</strong> ${randomFact}</p>`;
            
            questionsContainer.classList.remove('active');
            resultContainer.classList.add('active');
            
            // Add confetti effect for high scores
            if (percentage > 70) {
                createConfetti();
            }
            
            // Scroll to top of result container
            resultContainer.scrollIntoView({ behavior: 'smooth' });
        }
        
        function createConfetti() {
            const colors = ['#e74c3c', '#3498db', '#2ecc71', '#f1c40f', '#9b59b6'];
            const container = document.querySelector('.quiz-container');
            
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.style.position = 'absolute';
                confetti.style.width = '10px';
                confetti.style.height = '10px';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.borderRadius = '50%';
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.top = '-10px';
                confetti.style.opacity = '0.8';
                confetti.style.transform = 'rotate(' + Math.random() * 360 + 'deg)';
                
                container.appendChild(confetti);
                
                const animationDuration = Math.random() * 3 + 2;
                
                confetti.animate([
                    { top: '-10px', left: Math.random() * 100 + '%', opacity: 0.8 },
                    { top: '100%', left: Math.random() * 100 + '%', opacity: 0 }
                ], {
                    duration: animationDuration * 1000,
                    easing: 'cubic-bezier(0.1, 0.8, 0.9, 1)',
                    fill: 'forwards'
                });
                
                setTimeout(() => {
                    confetti.remove();
                }, animationDuration * 1000);
            }
        }
        
        function restartQuiz() {
            // Reset all radio buttons
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.checked = false;
            });
            
            // Remove selected answer indicators
            document.querySelectorAll('.selected-answer').forEach(el => {
                el.remove();
            });
            
            // Reset progress
            progressBar.style.width = '0%';
            progressText.textContent = '0%';
            answeredCount.textContent = '0';
            submitButton.disabled = true;
            submitButton.innerHTML = '<i class="fas fa-paper-plane"></i> Submit Answers';
            submitButton.style.animation = '';
            
            // Hide result container and show questions container
            resultContainer.classList.remove('active');
            questionsContainer.classList.add('active');
            
            // Scroll to top
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }
        
        // Initialize the quiz
        document.addEventListener('DOMContentLoaded', () => {
            // Any initialization code if needed
        });
    </script>
</body>
</html>